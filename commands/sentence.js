const Gen = require('sentence-generator');
const config = require('../config');

const gen = Gen('./sentences.txt');

const sentence = {
  sentence: (message) => {
    message.delete(200);
    return message.channel.send({
      embed: {
        color: config.palette.pink,
        title: `\`\`\`\n${gen.take(1)}\n\`\`\``,
        description: `*Generated by ${message.author.username}*`
      }
    });
  },
  tts: (message) => {
    let sentence = gen.take(1);
    let author = message.author.username;
    message.delete(200);
    return message.channel.send(sentence, { tts: true }).then((message) => { message.edit(`:speech_balloon: *"${sentence}"*\n          â€” Generated by ${author}`); });
  }
};

module.exports = sentence;
